<div class="relative flex items-center justify-center" @fadeInOut>
  <div
    class="z-10 mx-auto w-full max-w-md overflow-hidden rounded-3xl border-2 border-primary bg-white shadow-md shadow-primary dark:bg-transparent">
    <div class="group mx-auto max-w-md  transition duration-500 hover:scale-105 cursor-pointer">
      <div class="relative aspect-w-16 aspect-h-9 bg-gray-200">
        <!-- Always display the compressed image initially -->
        <img src="./assets/images/compress.jpg" class="absolute top-0 left-0 w-full h-full object-cover blur" loading="lazy">

        <!-- High-quality image with direct event binding to change its visibility -->
        <img [hidden]="!imageLoaded" (load)="imageLoaded = true" [src]="item.imageUrl" alt="{{item.title}}" class="absolute top-0 left-0 w-full h-full object-cover" loading="lazy">
      </div>
      <div class="flex min-h-[300px] flex-col justify-between p-4 sm:p-6 ">
        <p class="mb-1 text-[22px] font-bold leading-7 text-gray-700 dark:text-white">{{ item.title }}</p>
        <div class="flex flex-row">
          <p class="mr-2 text-[17px] text-[#3C3C4399] line-through dark:text-white">{{ item.price + 5 | currency }}</p>
          <p class="text-[17px] font-bold text-[#0FB478]">{{ item.price | currency }}</p>
        </div>
        <div >
          <p class="font-[15px] text-[#7C7C80] dark:text-white">
            {{
              showFullDescription || item.description.length <= 50
                ? item.description
                : (item.description | slice: 0:50) + '...'
            }}
          </p>
          <button *ngIf="item.description.length > 50" (click)="toggleDescription()" class="mt-2 text-primary">
            {{ showFullDescription ? 'Show Less' : 'Read More' }}
          </button>
        </div>
        <button
        (click)="addToCart(item)"
        class="mt-4 w-full cursor-pointer rounded-[14px] bg-primary px-4 py-3 text-center font-medium capitalize tracking-wide text-white transition-colors duration-300 focus:outline-none focus:ring focus:ring-opacity-80 hover:opacity-75">
        Add to cart
      </button>
      </div>
    </div>
  </div>
</div>
